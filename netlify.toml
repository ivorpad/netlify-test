
[build]
command = "npm run build"
functions = "out_functions"
publish = ".next"

# Production context:
# All deploys from the main repository branch
# will inherit these settings.
[context.production]
  [context.production.environment]
    ACCESS_TOKEN = "super secret"
  # Deploys from main branch run this plugin in the build.
  # Plugins context requires double brackets.

# Deploy Preview context:
# All deploys generated from a pull/merge request
# will inherit these settings.
[context.deploy-preview]
  command = "ACCESS_TOKEN=345 npm run build"
  environment = { ACCESS_TOKEN = "super secret" }

# [context.deploy-preview.environment]
#   ACCESS_TOKEN = "not so secret"